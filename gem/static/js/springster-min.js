!function(){"use strict";function e(e,t){var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return n.open("GET",e),n.onreadystatechange=function(){n.readyState>3&&200==n.status&&t(n.responseText)},n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(),n}var t=function(){document.body.classList.add("toggle-hide")},n=function(){var e=document.getElementById("header-wrapper"),t=document.getElementById("content-wrapper"),n=function(e){window.innerWidth<1024?t.style.backgroundColor="#7300ff":t.style.backgroundColor="transparent"};window.onresize=n,window.onload=n,window.addEventListener("scroll",function(){var n=this.y-window.pageYOffset,r=window.scrollY,o=document.getElementById("header-wrapper").clientHeight,i=document.getElementById("language-bar").clientHeight;r>0&&window.innerWidth>320&&(e.classList.add("header-fixed"),t.style.paddingTop=o+"px"),n>0&&r>o&&window.innerWidth>320?(e.style.transform="translate3d(0px, "+-i+"px, 0px)",t.style.paddingTop=o+"px"):r>o?e.style.transform="translate3d(0px, "+-o+"px, 0px)":(n<0||r<o)&&(e.style.transform="translate3d(0px, 0px, 0px)"),this.y=window.pageYOffset})},r=function(){var t=document.getElementById("more-link");if(t&&null===document.getElementById("articles-more")){var n=document.createElement("div");t.parentNode.insertBefore(n,t),n.appendChild(t),n.setAttribute("id","articles-more"),n.addEventListener("click",function(t){var n=t.target;"A"==n.tagName&&n.classList.contains("more-link")&&(t.preventDefault(),n.childNodes[1].innerHTML="<img src='/static/img/loading.gif' alt='Loading...' />",e(n.getAttribute("data-next"),function(e){n.parentNode.insertAdjacentHTML("beforeend",e),n.parentNode.removeChild(n)}))})}},o=function(e,t,n){if(!(n<0||e.scrollTop==t)){var r=(t-e.scrollTop)/n*2;setTimeout(function(){e.scrollTop=e.scrollTop+r,o(e,t,n-2)},10)}},i=function(){document.getElementById("back-to-top").onclick=function(e){e.preventDefault(),o(document.body,0,100)}},d=function(){for(var e=document.querySelectorAll("form"),t=0;t<e.length;t++)!function(e){e.addEventListener("invalid",function(e){e.preventDefault()},!0),e.addEventListener("submit",function(e){this.checkValidity()||e.preventDefault()});var t=e.querySelectorAll(".errorlist");if(t.length>0)for(var n=0;n<t.length;n++)parent=t[n].parentNode,parent.classList.add("input-error");var r=e.querySelector("button:not([type=button]), input[type=submit]"),i=document.getElementById("header-wrapper").clientHeight;r.addEventListener("click",function(t){for(var n,r=e.querySelectorAll(":invalid"),d=e.querySelectorAll(".error-message"),a=0;a<d.length;a++)d[a].parentNode.removeChild(d[a]);for(var l=0;l<r.length;l++)(n=r[l].parentNode).insertAdjacentHTML("beforeend","<div class='error-message'>"+r[l].validationMessage+"</div>"),n.classList.add("input-error");r.length>0&&o(document.body,r[0].offsetTop-i,100)})}(e[t])};!function(e){"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)}(function(){n(),r(),t(),i(),d()})}();