"use strict";function debounce(e,t){clearTimeout(e._tId),e._tId=setTimeout(function(){e()},t)}var domReady=function(e){"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)},stickyHeader=function(){var e=document.getElementById("header"),t=document.getElementById("content-wrapper"),n=document.getElementById("header").clientHeight,o=document.getElementById("language-bar").clientHeight,d=function(){t.style.top=n+"px",e.classList.add("header-fixed")},i=function(){t.style.top="0",e.classList.remove("header-fixed")},a=function(){e.style.top=-n+"px"};window.addEventListener("scroll",function(){var t=this.y-window.pageYOffset,c=window.scrollY;console.log(c),t>0&&c>o?(debounce(d,50),e.style.top=0):c>n+o?a():i(),this.y=window.pageYOffset})},loadMore=function(){var e=document.getElementById("articles-more");e.addEventListener("click",function(t){t.preventDefault();var n=t.target;"A"==n.tagName&&n.classList.contains("more-link")&&(n.childNodes[1].innerHTML="<img src='/static/img/loading.gif' alt='Loading...' />",fetch(n.getAttribute("data-next")).then(function(e){return e.text()}).then(function(t){e.insertAdjacentHTML("beforeend",t),e.removeChild(n)}))})};domReady(function(){stickyHeader(),loadMore()});