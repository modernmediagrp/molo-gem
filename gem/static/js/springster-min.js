"use strict";var domReady=function(e){"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)},hidePagination=function(){document.body.classList.add("toggle-hide")},stickyHeader=function(){var e=document.getElementById("header"),t=document.getElementById("content-wrapper"),n=document.getElementById("header").clientHeight,o=document.getElementById("language-bar").clientHeight;window.addEventListener("scroll",function(){var d=this.y-window.pageYOffset,i=window.scrollY;d>0&&i>o?(e.style.top=0,t.style.top=n+"px",e.classList.add("header-fixed")):i>n+o?e.style.top=-n+"px":(d<0||i<n)&&(t.style.top="0",e.classList.remove("header-fixed")),this.y=window.pageYOffset})},loadMore=function(){var e=document.getElementById("more-link");if(e){if(null===document.getElementById("articles-more")){var t=document.createElement("div");e.parentNode.insertBefore(t,e),t.appendChild(e),t.setAttribute("id","articles-more")}t.addEventListener("click",function(e){var t=e.target;"A"==t.tagName&&t.classList.contains("more-link")&&(e.preventDefault(),t.childNodes[1].innerHTML="<img src='/static/img/loading.gif' alt='Loading...' />",fetch(t.getAttribute("data-next")).then(function(e){return e.text()}).then(function(e){t.parentNode.insertAdjacentHTML("beforeend",e),t.parentNode.removeChild(t)}))})}},scrollTo=function(e,t,n){if(!(n<0)){var o=(t-e.scrollTop)/n*2;setTimeout(function(){e.scrollTop=e.scrollTop+o,scrollTo(e,t,n-2)},10)}},backTop=function(){document.getElementById("back-to-top").onclick=function(e){e.preventDefault(),scrollTo(document.body,0,100)}};domReady(function(){stickyHeader(),loadMore(),hidePagination(),backTop()});