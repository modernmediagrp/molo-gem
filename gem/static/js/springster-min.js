"use strict";var domReady=function(e){"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)},hidePagination=function(){document.body.classList.add("toggle-hide")},stickyHeader=function(){var e=document.getElementById("header-wrapper"),t=document.getElementById("content-wrapper"),n=document.getElementById("header-wrapper").clientHeight,o=document.getElementById("language-bar").clientHeight,r=window.innerWidth,i=function(e){window.innerWidth<1024?t.style.backgroundColor="#7300ff":window.innerWidth<320?t.style.paddingTop="0px":(t.style.paddingTop=n+"px",t.style.backgroundColor="transparent")};window.onresize=i,window.onload=i,t.style.paddingTop=n+"px",window.addEventListener("resize",function(){this.innerWidth<1024?t.style.backgroundColor="#7300ff":t.style.backgroundColor="transparent",this.innerWidth<320?t.style.paddingTop="0px":t.style.paddingTop=n+"px"}),window.addEventListener("scroll",function(){var i=this.y-window.pageYOffset,d=window.scrollY;i>0&&d>n&&r>320?(e.style.transform="translate3d(0px, "+-o+"px, 0px)",t.style.paddingTop=n+"px"):d>n?e.style.transform="translate3d(0px, "+-n+"px, 0px)":(i<0||d<n)&&(e.style.transform="translate3d(0px, 0px, 0px)"),this.y=window.pageYOffset})},loadMore=function(){var e=document.getElementById("more-link");if(e&&null===document.getElementById("articles-more")){var t=document.createElement("div");e.parentNode.insertBefore(t,e),t.appendChild(e),t.setAttribute("id","articles-more"),t.addEventListener("click",function(e){var t=e.target;"A"==t.tagName&&t.classList.contains("more-link")&&(e.preventDefault(),t.childNodes[1].innerHTML="<img src='/static/img/loading.gif' alt='Loading...' />",fetch(t.getAttribute("data-next")).then(function(e){return e.text()}).then(function(e){t.parentNode.insertAdjacentHTML("beforeend",e),t.parentNode.removeChild(t)}))})}},scrollToX=function(e,t,n){if(!(n<0||e.scrollTop==t)){var o=(t-e.scrollTop)/n*2;setTimeout(function(){e.scrollTop=e.scrollTop+o,scrollToX(e,t,n-2)},10)}},backTop=function(){document.getElementById("back-to-top").onclick=function(e){e.preventDefault(),scrollToX(document.body,0,100)}},formUI=function(){for(var e=document.querySelectorAll("form"),t=0;t<e.length;t++)!function(e){e.addEventListener("invalid",function(e){e.preventDefault()},!0),e.addEventListener("submit",function(e){this.checkValidity()||e.preventDefault()});var t=e.querySelectorAll(".errorlist");if(t.length>0)for(var n=0;n<t.length;n++)parent=t[n].parentNode,parent.classList.add("input-error");var o=e.querySelector("button:not([type=button]), input[type=submit]"),r=document.getElementById("header-wrapper").clientHeight;o.addEventListener("click",function(t){for(var n,o=e.querySelectorAll(":invalid"),i=e.querySelectorAll(".error-message"),d=0;d<i.length;d++)i[d].parentNode.removeChild(i[d]);for(var a=0;a<o.length;a++)(n=o[a].parentNode).insertAdjacentHTML("beforeend","<div class='error-message'>"+o[a].validationMessage+"</div>"),n.classList.add("input-error");o.length>0&&scrollToX(document.body,o[0].offsetTop-r,100)})}(e[t])};domReady(function(){stickyHeader(),loadMore(),hidePagination(),backTop(),formUI()});